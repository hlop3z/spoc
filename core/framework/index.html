
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://hlop3z.github.io/spoc/core/framework/">
      
      
        <link rel="prev" href="../../getting-started/configuration/">
      
      
        <link rel="next" href="../app-system/">
      
      
        
      
      
      <link rel="icon" href="../../assets/images/logo.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Framework - Spoc</title>
      
    
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    <link rel="stylesheet" href="../../css/extra.css" />

    
    
      
    

    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../termynal.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="green" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#understanding-the-spoc-framework" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Spoc" class="md-header__button md-logo" aria-label="Spoc" data-md-component="logo">
      
  <img src="../../assets/images/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Spoc
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Framework
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="green" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="green" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/hlop3z/spoc/tree/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../.." class="md-tabs__link">
          
  
  
  SPOC

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../contributing/" class="md-tabs__link">
        
  
  
    
  
  Contributing

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Spoc" class="md-nav__button md-logo" aria-label="Spoc" data-md-component="logo">
      
  <img src="../../assets/images/logo.png" alt="logo">

    </a>
    Spoc
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/hlop3z/spoc/tree/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" checked>
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    SPOC
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    SPOC
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Introduction
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1_2" >
        
          
          <label class="md-nav__link" for="__nav_1_2" id="__nav_1_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Getting Started
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Installation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/quick-start/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Quick Start
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Configuration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_3" checked>
        
          
          <label class="md-nav__link" for="__nav_1_3" id="__nav_1_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Core Concepts
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Core Concepts
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Framework
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Framework
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#what-is-the-framework" class="md-nav__link">
    <span class="md-ellipsis">
      
        What is the Framework?
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-big-picture" class="md-nav__link">
    <span class="md-ellipsis">
      
        The Big Picture
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#framework-initialization" class="md-nav__link">
    <span class="md-ellipsis">
      
        Framework Initialization
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Framework Initialization">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-parameter-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Parameter Configuration
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. Parameter Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameter-details" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameter Details
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-app-discovery-and-injection" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. App Discovery and Injection
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-configuration-loading" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Configuration Loading
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-plugin-collection" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. Plugin Collection
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-automatic-startup" class="md-nav__link">
    <span class="md-ellipsis">
      
        5. Automatic Startup
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#schema-definition" class="md-nav__link">
    <span class="md-ellipsis">
      
        Schema Definition
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Schema Definition">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-schema" class="md-nav__link">
    <span class="md-ellipsis">
      
        Basic Schema
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#complete-schema-example" class="md-nav__link">
    <span class="md-ellipsis">
      
        Complete Schema Example
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#schema-components" class="md-nav__link">
    <span class="md-ellipsis">
      
        Schema Components
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hook-pattern-matching" class="md-nav__link">
    <span class="md-ellipsis">
      
        Hook Pattern Matching
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-config-object" class="md-nav__link">
    <span class="md-ellipsis">
      
        The Config Object
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="The Config Object">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#accessing-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Accessing Configuration
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuration-search-paths" class="md-nav__link">
    <span class="md-ellipsis">
      
        Configuration Search Paths
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#framework-lifecycle" class="md-nav__link">
    <span class="md-ellipsis">
      
        Framework Lifecycle
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Framework Lifecycle">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#startup-sequence" class="md-nav__link">
    <span class="md-ellipsis">
      
        Startup Sequence
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#shutdown-sequence" class="md-nav__link">
    <span class="md-ellipsis">
      
        Shutdown Sequence
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lifecycle-hooks-in-action" class="md-nav__link">
    <span class="md-ellipsis">
      
        Lifecycle Hooks in Action
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#accessing-components" class="md-nav__link">
    <span class="md-ellipsis">
      
        Accessing Components
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Accessing Components">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-component-namespace" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Component Namespace
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-get-component-method" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Get Component Method
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-installed-apps-list" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Installed Apps List
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#component-organization" class="md-nav__link">
    <span class="md-ellipsis">
      
        Component Organization
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dependency-resolution" class="md-nav__link">
    <span class="md-ellipsis">
      
        Dependency Resolution
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Dependency Resolution">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-dependencies-work" class="md-nav__link">
    <span class="md-ellipsis">
      
        How Dependencies Work
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#circular-dependency-detection" class="md-nav__link">
    <span class="md-ellipsis">
      
        Circular Dependency Detection
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cross-app-dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      
        Cross-App Dependencies
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#working-with-the-importer" class="md-nav__link">
    <span class="md-ellipsis">
      
        Working with the Importer
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Working with the Importer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#importer-modes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Importer Modes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#module-loading-pattern" class="md-nav__link">
    <span class="md-ellipsis">
      
        Module Loading Pattern
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#practical-examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Practical Examples
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Practical Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-1-database-connection-management" class="md-nav__link">
    <span class="md-ellipsis">
      
        Example 1: Database Connection Management
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-2-cache-warmup" class="md-nav__link">
    <span class="md-ellipsis">
      
        Example 2: Cache Warmup
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-3-component-discovery" class="md-nav__link">
    <span class="md-ellipsis">
      
        Example 3: Component Discovery
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-4-multi-app-project" class="md-nav__link">
    <span class="md-ellipsis">
      
        Example 4: Multi-App Project
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#common-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      
        Common Patterns
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Common Patterns">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pattern-1-singleton-framework" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pattern 1: Singleton Framework
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pattern-2-lazy-component-loading" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pattern 2: Lazy Component Loading
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pattern-3-environment-based-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pattern 3: Environment-Based Configuration
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pattern-4-custom-hook-functions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pattern 4: Custom Hook Functions
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting" class="md-nav__link">
    <span class="md-ellipsis">
      
        Troubleshooting
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Troubleshooting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#issue-modules-not-loading" class="md-nav__link">
    <span class="md-ellipsis">
      
        Issue: Modules Not Loading
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#issue-import-errors" class="md-nav__link">
    <span class="md-ellipsis">
      
        Issue: Import Errors
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#issue-circular-dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      
        Issue: Circular Dependencies
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#issue-hooks-not-executing" class="md-nav__link">
    <span class="md-ellipsis">
      
        Issue: Hooks Not Executing
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#issue-components-not-found" class="md-nav__link">
    <span class="md-ellipsis">
      
        Issue: Components Not Found
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#best-practices" class="md-nav__link">
    <span class="md-ellipsis">
      
        Best Practices
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Best Practices">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-use-strict-mode-in-development" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Use Strict Mode in Development
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-keep-dependencies-simple" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Keep Dependencies Simple
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-use-meaningful-hook-functions" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Use Meaningful Hook Functions
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-organize-configuration-properly" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. Organize Configuration Properly
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-leverage-component-namespace" class="md-nav__link">
    <span class="md-ellipsis">
      
        5. Leverage Component Namespace
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    <span class="md-ellipsis">
      
        Summary
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../app-system/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    App System
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../components/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Components
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../importer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Importer
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dependencies/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Dependency Management
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1_4" >
        
          
          <label class="md-nav__link" for="__nav_1_4" id="__nav_1_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Advanced Usage
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Advanced Usage
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced/plugins/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Plugins
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced/lifecycle/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lifecycle Hooks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced/workers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Workers
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1_5" >
        
          
          <label class="md-nav__link" for="__nav_1_5" id="__nav_1_5_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    API Reference
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    API Reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/framework/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Framework
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/components/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Components
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/importer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Importer
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/workers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Workers
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tools
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/core-utils/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Core Utilities
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1_6" >
        
          
          <label class="md-nav__link" for="__nav_1_6" id="__nav_1_6_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Examples
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Examples
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/basic/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Basic Example
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/app-example/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    App Example
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contributing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Contributing
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#what-is-the-framework" class="md-nav__link">
    <span class="md-ellipsis">
      
        What is the Framework?
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-big-picture" class="md-nav__link">
    <span class="md-ellipsis">
      
        The Big Picture
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#framework-initialization" class="md-nav__link">
    <span class="md-ellipsis">
      
        Framework Initialization
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Framework Initialization">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-parameter-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Parameter Configuration
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. Parameter Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameter-details" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameter Details
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-app-discovery-and-injection" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. App Discovery and Injection
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-configuration-loading" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Configuration Loading
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-plugin-collection" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. Plugin Collection
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-automatic-startup" class="md-nav__link">
    <span class="md-ellipsis">
      
        5. Automatic Startup
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#schema-definition" class="md-nav__link">
    <span class="md-ellipsis">
      
        Schema Definition
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Schema Definition">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-schema" class="md-nav__link">
    <span class="md-ellipsis">
      
        Basic Schema
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#complete-schema-example" class="md-nav__link">
    <span class="md-ellipsis">
      
        Complete Schema Example
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#schema-components" class="md-nav__link">
    <span class="md-ellipsis">
      
        Schema Components
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hook-pattern-matching" class="md-nav__link">
    <span class="md-ellipsis">
      
        Hook Pattern Matching
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-config-object" class="md-nav__link">
    <span class="md-ellipsis">
      
        The Config Object
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="The Config Object">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#accessing-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Accessing Configuration
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuration-search-paths" class="md-nav__link">
    <span class="md-ellipsis">
      
        Configuration Search Paths
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#framework-lifecycle" class="md-nav__link">
    <span class="md-ellipsis">
      
        Framework Lifecycle
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Framework Lifecycle">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#startup-sequence" class="md-nav__link">
    <span class="md-ellipsis">
      
        Startup Sequence
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#shutdown-sequence" class="md-nav__link">
    <span class="md-ellipsis">
      
        Shutdown Sequence
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lifecycle-hooks-in-action" class="md-nav__link">
    <span class="md-ellipsis">
      
        Lifecycle Hooks in Action
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#accessing-components" class="md-nav__link">
    <span class="md-ellipsis">
      
        Accessing Components
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Accessing Components">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-component-namespace" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Component Namespace
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-get-component-method" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Get Component Method
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-installed-apps-list" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Installed Apps List
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#component-organization" class="md-nav__link">
    <span class="md-ellipsis">
      
        Component Organization
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dependency-resolution" class="md-nav__link">
    <span class="md-ellipsis">
      
        Dependency Resolution
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Dependency Resolution">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-dependencies-work" class="md-nav__link">
    <span class="md-ellipsis">
      
        How Dependencies Work
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#circular-dependency-detection" class="md-nav__link">
    <span class="md-ellipsis">
      
        Circular Dependency Detection
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cross-app-dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      
        Cross-App Dependencies
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#working-with-the-importer" class="md-nav__link">
    <span class="md-ellipsis">
      
        Working with the Importer
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Working with the Importer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#importer-modes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Importer Modes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#module-loading-pattern" class="md-nav__link">
    <span class="md-ellipsis">
      
        Module Loading Pattern
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#practical-examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Practical Examples
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Practical Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-1-database-connection-management" class="md-nav__link">
    <span class="md-ellipsis">
      
        Example 1: Database Connection Management
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-2-cache-warmup" class="md-nav__link">
    <span class="md-ellipsis">
      
        Example 2: Cache Warmup
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-3-component-discovery" class="md-nav__link">
    <span class="md-ellipsis">
      
        Example 3: Component Discovery
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-4-multi-app-project" class="md-nav__link">
    <span class="md-ellipsis">
      
        Example 4: Multi-App Project
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#common-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      
        Common Patterns
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Common Patterns">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pattern-1-singleton-framework" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pattern 1: Singleton Framework
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pattern-2-lazy-component-loading" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pattern 2: Lazy Component Loading
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pattern-3-environment-based-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pattern 3: Environment-Based Configuration
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pattern-4-custom-hook-functions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pattern 4: Custom Hook Functions
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting" class="md-nav__link">
    <span class="md-ellipsis">
      
        Troubleshooting
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Troubleshooting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#issue-modules-not-loading" class="md-nav__link">
    <span class="md-ellipsis">
      
        Issue: Modules Not Loading
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#issue-import-errors" class="md-nav__link">
    <span class="md-ellipsis">
      
        Issue: Import Errors
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#issue-circular-dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      
        Issue: Circular Dependencies
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#issue-hooks-not-executing" class="md-nav__link">
    <span class="md-ellipsis">
      
        Issue: Hooks Not Executing
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#issue-components-not-found" class="md-nav__link">
    <span class="md-ellipsis">
      
        Issue: Components Not Found
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#best-practices" class="md-nav__link">
    <span class="md-ellipsis">
      
        Best Practices
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Best Practices">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-use-strict-mode-in-development" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Use Strict Mode in Development
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-keep-dependencies-simple" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Keep Dependencies Simple
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-use-meaningful-hook-functions" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Use Meaningful Hook Functions
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-organize-configuration-properly" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. Organize Configuration Properly
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-leverage-component-namespace" class="md-nav__link">
    <span class="md-ellipsis">
      
        5. Leverage Component Namespace
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    <span class="md-ellipsis">
      
        Summary
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="understanding-the-spoc-framework">Understanding the SPOC Framework</h1>
<p>The Framework is the heart of SPOC. It's the orchestrator that brings together configuration, modules, components, and lifecycle management into a cohesive application structure. This guide explains the conceptual foundations of the Framework and how it powers your SPOC applications.</p>
<hr />
<h2 id="what-is-the-framework">What is the Framework?</h2>
<p>The Framework is the <strong>core orchestrator</strong> for SPOC applications. Think of it as the conductor of an orchestra - it doesn't play the instruments (your modules and components), but it coordinates when and how they perform together.</p>
<p>The Framework manages:</p>
<ul>
<li><strong>Configuration Discovery</strong>: Locates and loads project settings and environment variables</li>
<li><strong>Module Registration</strong>: Registers which modules to load from your apps</li>
<li><strong>Dependency Resolution</strong>: Determines the correct order to load modules based on dependencies</li>
<li><strong>Lifecycle Orchestration</strong>: Controls startup and shutdown sequences</li>
<li><strong>Component Discovery</strong>: Finds and indexes components for easy access</li>
<li><strong>Plugin Loading</strong>: Integrates middleware and extensions</li>
</ul>
<pre class="mermaid"><code>graph TB
    subgraph "Framework Responsibilities"
        Config[Configuration Management]
        Modules[Module Loading]
        Deps[Dependency Resolution]
        Lifecycle[Lifecycle Control]
        Components[Component Registry]
        Plugins[Plugin System]
    end

    Framework[Framework] --&gt; Config
    Framework --&gt; Modules
    Framework --&gt; Deps
    Framework --&gt; Lifecycle
    Framework --&gt; Components
    Framework --&gt; Plugins

    Config --&gt; Apps[Your Applications]
    Modules --&gt; Apps
    Components --&gt; Apps
    Plugins --&gt; Apps

    style Framework fill:#4a90e2,color:#fff
    style Apps fill:#50c878,color:#fff</code></pre>
<hr />
<h2 id="the-big-picture">The Big Picture</h2>
<p>Before diving into details, let's see how the Framework fits into your application:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">pathlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">Path</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="kn">from</span><span class="w"> </span><span class="nn">spoc</span><span class="w"> </span><span class="kn">import</span> <span class="n">Framework</span><span class="p">,</span> <span class="n">Schema</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="c1"># 1. Define your application structure</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="n">schema</span> <span class="o">=</span> <span class="n">Schema</span><span class="p">(</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>    <span class="n">modules</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;models&quot;</span><span class="p">,</span> <span class="s2">&quot;views&quot;</span><span class="p">,</span> <span class="s2">&quot;services&quot;</span><span class="p">],</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>    <span class="n">dependencies</span><span class="o">=</span><span class="p">{</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>        <span class="s2">&quot;views&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;models&quot;</span><span class="p">],</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>        <span class="s2">&quot;services&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;models&quot;</span><span class="p">]</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>    <span class="p">},</span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>    <span class="n">hooks</span><span class="o">=</span><span class="p">{</span>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>        <span class="s2">&quot;models&quot;</span><span class="p">:</span> <span class="p">{</span>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>            <span class="s2">&quot;startup&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">m</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Models loaded: </span><span class="si">{</span><span class="n">m</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">),</span>
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a>        <span class="p">}</span>
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>    <span class="p">}</span>
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a><span class="p">)</span>
<a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a>
<a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a><span class="c1"># 2. Initialize the Framework</span>
<a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a><span class="n">framework</span> <span class="o">=</span> <span class="n">Framework</span><span class="p">(</span>
<a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a>    <span class="n">base_dir</span><span class="o">=</span><span class="n">Path</span><span class="p">(</span><span class="s2">&quot;./my_project&quot;</span><span class="p">),</span>
<a id="__codelineno-0-21" name="__codelineno-0-21" href="#__codelineno-0-21"></a>    <span class="n">schema</span><span class="o">=</span><span class="n">schema</span><span class="p">,</span>
<a id="__codelineno-0-22" name="__codelineno-0-22" href="#__codelineno-0-22"></a>    <span class="n">echo</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<a id="__codelineno-0-23" name="__codelineno-0-23" href="#__codelineno-0-23"></a>    <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;strict&quot;</span>
<a id="__codelineno-0-24" name="__codelineno-0-24" href="#__codelineno-0-24"></a><span class="p">)</span>
<a id="__codelineno-0-25" name="__codelineno-0-25" href="#__codelineno-0-25"></a>
<a id="__codelineno-0-26" name="__codelineno-0-26" href="#__codelineno-0-26"></a><span class="c1"># 3. Use your application</span>
<a id="__codelineno-0-27" name="__codelineno-0-27" href="#__codelineno-0-27"></a><span class="n">user_model</span> <span class="o">=</span> <span class="n">framework</span><span class="o">.</span><span class="n">get_component</span><span class="p">(</span><span class="s2">&quot;model&quot;</span><span class="p">,</span> <span class="s2">&quot;users.User&quot;</span><span class="p">)</span>
<a id="__codelineno-0-28" name="__codelineno-0-28" href="#__codelineno-0-28"></a>
<a id="__codelineno-0-29" name="__codelineno-0-29" href="#__codelineno-0-29"></a><span class="c1"># 4. Clean shutdown</span>
<a id="__codelineno-0-30" name="__codelineno-0-30" href="#__codelineno-0-30"></a><span class="n">framework</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
</code></pre></div>
<p>That's it! The Framework handles everything else behind the scenes.</p>
<hr />
<h2 id="framework-initialization">Framework Initialization</h2>
<p>When you create a Framework instance, several things happen in sequence:</p>
<h3 id="1-parameter-configuration">1. Parameter Configuration</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="n">framework</span> <span class="o">=</span> <span class="n">Framework</span><span class="p">(</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>    <span class="n">base_dir</span><span class="o">=</span><span class="n">Path</span><span class="p">(</span><span class="s2">&quot;./my_project&quot;</span><span class="p">),</span>  <span class="c1"># Project root directory</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>    <span class="n">schema</span><span class="o">=</span><span class="n">schema</span><span class="p">,</span>                  <span class="c1"># Module structure definition</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>    <span class="n">echo</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>                     <span class="c1"># Verbose output control</span>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>    <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;strict&quot;</span>                   <span class="c1"># Error handling mode</span>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="p">)</span>
</code></pre></div>
<h4 id="parameter-details">Parameter Details</h4>
<p><strong><code>base_dir</code></strong> - The project root directory
- Must be a <code>Path</code> object pointing to your project root
- This directory typically contains your <code>apps/</code> folder and <code>config/</code> directory
- All module discovery and configuration loading starts from this location</p>
<p><strong><code>schema</code></strong> - Defines your application's module structure
- A <code>Schema</code> object specifying modules, dependencies, and hooks
- See <a href="#schema-definition">Schema Definition</a> for details</p>
<p><strong><code>echo</code></strong> - Verbose output control
- <code>True</code>: Prints detailed debug information during operations
- <code>False</code>: Silent operation (default)
- Useful for debugging module loading issues</p>
<p><strong><code>mode</code></strong> - Error handling mode
- <code>"strict"</code>: Raises errors if modules don't exist (recommended for development)
- <code>"loose"</code>: Silently skips missing modules (useful for optional features)
- Controls the Importer's behavior when encountering missing modules</p>
<h3 id="2-app-discovery-and-injection">2. App Discovery and Injection</h3>
<p>The Framework automatically discovers and makes your apps available for import:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="c1"># Framework adds C:/path/to/my_project/apps to sys.path</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="c1"># Now you can import: from blog import models</span>
</code></pre></div>
<p>This happens via the <code>inject_apps()</code> function, which:
1. Looks for an <code>apps/</code> directory in your <code>base_dir</code>
2. Adds it to Python's module search path
3. Enables direct imports of your applications</p>
<h3 id="3-configuration-loading">3. Configuration Loading</h3>
<p>The Framework builds a <code>Config</code> object containing three parts:</p>
<pre class="mermaid"><code>graph LR
    Config[Config Object] --&gt; Project[Project Configuration]
    Config --&gt; Settings[Settings Module]
    Config --&gt; Environment[Environment Variables]

    Project --&gt; TOML[spoc.toml]
    Settings --&gt; PY[settings.py]
    Environment --&gt; ENV[.env/development.toml]

    style Config fill:#4a90e2,color:#fff
    style TOML fill:#f39c12,color:#fff
    style PY fill:#e74c3c,color:#fff
    style ENV fill:#9b59b6,color:#fff</code></pre>
<p><strong>Project Configuration</strong> (<code>config.project</code>)
- Loaded from <code>spoc.toml</code> in your config directory
- Contains mode, app lists, plugin configurations
- Accessed via <code>framework.config.project</code></p>
<p><strong>Settings Module</strong> (<code>config.settings</code>)
- Loaded from <code>settings.py</code> or <code>config.py</code>
- Contains Python constants like <code>INSTALLED_APPS</code>, <code>PLUGINS</code>
- Accessed via <code>framework.config.settings</code></p>
<p><strong>Environment Variables</strong> (<code>config.environment</code>)
- Loaded from <code>.env/&lt;mode&gt;.toml</code> based on current mode
- Mode-specific environment configuration
- Accessed via <code>framework.config.environment</code></p>
<p>Example configuration access:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="c1"># Get the current mode</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="n">mode</span> <span class="o">=</span> <span class="n">framework</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">project</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;mode&quot;</span><span class="p">,</span> <span class="s2">&quot;development&quot;</span><span class="p">)</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="c1"># Get installed apps from settings</span>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="n">apps</span> <span class="o">=</span> <span class="n">framework</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">INSTALLED_APPS</span>
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="c1"># Get environment variables</span>
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a><span class="n">db_host</span> <span class="o">=</span> <span class="n">framework</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">environment</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;DATABASE_HOST&quot;</span><span class="p">)</span>
</code></pre></div>
<h3 id="4-plugin-collection">4. Plugin Collection</h3>
<p>The Framework collects and loads plugins from two sources:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="c1"># From spoc.toml</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="p">[</span><span class="n">spoc</span><span class="o">.</span><span class="n">plugins</span><span class="p">]</span>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="n">middleware</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;myapp.middleware.auth_middleware&quot;</span><span class="p">]</span>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="c1"># From settings.py</span>
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="n">PLUGINS</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a>    <span class="s2">&quot;hooks&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;myapp.hooks.logging_hook&quot;</span><span class="p">]</span>
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a><span class="p">}</span>
</code></pre></div>
<p>Plugins are organized by group and loaded via URI references. Access them via:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="c1"># Get all middleware plugins</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="n">middleware</span> <span class="o">=</span> <span class="n">framework</span><span class="o">.</span><span class="n">plugins</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;middleware&quot;</span><span class="p">,</span> <span class="p">{})</span>
</code></pre></div>
<h3 id="5-automatic-startup">5. Automatic Startup</h3>
<p><strong>Important</strong>: The Framework calls <code>startup()</code> automatically during initialization!</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="c1"># These are equivalent:</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="n">framework</span> <span class="o">=</span> <span class="n">Framework</span><span class="p">(</span><span class="n">base_dir</span><span class="p">,</span> <span class="n">schema</span><span class="p">)</span>  <span class="c1"># startup() called automatically</span>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="c1"># You don&#39;t need to do this:</span>
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="n">framework</span> <span class="o">=</span> <span class="n">Framework</span><span class="p">(</span><span class="n">base_dir</span><span class="p">,</span> <span class="n">schema</span><span class="p">)</span>
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="n">framework</span><span class="o">.</span><span class="n">startup</span><span class="p">()</span>  <span class="c1"># Already called!</span>
</code></pre></div>
<p>The startup process:
1. Registers all apps and their modules
2. Resolves dependencies
3. Loads modules in dependency order
4. Executes startup hooks
5. Initializes components registry</p>
<hr />
<h2 id="schema-definition">Schema Definition</h2>
<p>The Schema defines <strong>what</strong> your application is made of - which modules exist and how they relate to each other.</p>
<h3 id="basic-schema">Basic Schema</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">spoc</span><span class="w"> </span><span class="kn">import</span> <span class="n">Schema</span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="n">schema</span> <span class="o">=</span> <span class="n">Schema</span><span class="p">(</span>
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>    <span class="n">modules</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;models&quot;</span><span class="p">,</span> <span class="s2">&quot;views&quot;</span><span class="p">],</span>
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a>    <span class="n">dependencies</span><span class="o">=</span><span class="p">{},</span>
<a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a>    <span class="n">hooks</span><span class="o">=</span><span class="p">{}</span>
<a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a><span class="p">)</span>
</code></pre></div>
<h3 id="complete-schema-example">Complete Schema Example</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="n">schema</span> <span class="o">=</span> <span class="n">Schema</span><span class="p">(</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>    <span class="c1"># List of module names to load from each app</span>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>    <span class="n">modules</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;models&quot;</span><span class="p">,</span> <span class="s2">&quot;views&quot;</span><span class="p">,</span> <span class="s2">&quot;services&quot;</span><span class="p">,</span> <span class="s2">&quot;commands&quot;</span><span class="p">],</span>
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a>
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a>    <span class="c1"># Module dependencies (key depends on values)</span>
<a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a>    <span class="n">dependencies</span><span class="o">=</span><span class="p">{</span>
<a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a>        <span class="s2">&quot;views&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;models&quot;</span><span class="p">],</span>           <span class="c1"># views need models</span>
<a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a>        <span class="s2">&quot;services&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;models&quot;</span><span class="p">],</span>        <span class="c1"># services need models</span>
<a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a>        <span class="s2">&quot;commands&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;services&quot;</span><span class="p">],</span>      <span class="c1"># commands need services</span>
<a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a>    <span class="p">},</span>
<a id="__codelineno-8-11" name="__codelineno-8-11" href="#__codelineno-8-11"></a>
<a id="__codelineno-8-12" name="__codelineno-8-12" href="#__codelineno-8-12"></a>    <span class="c1"># Lifecycle hooks for modules</span>
<a id="__codelineno-8-13" name="__codelineno-8-13" href="#__codelineno-8-13"></a>    <span class="n">hooks</span><span class="o">=</span><span class="p">{</span>
<a id="__codelineno-8-14" name="__codelineno-8-14" href="#__codelineno-8-14"></a>        <span class="s2">&quot;models&quot;</span><span class="p">:</span> <span class="p">{</span>
<a id="__codelineno-8-15" name="__codelineno-8-15" href="#__codelineno-8-15"></a>            <span class="s2">&quot;startup&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">module_set</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Models initialized: </span><span class="si">{</span><span class="n">module_set</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">),</span>
<a id="__codelineno-8-16" name="__codelineno-8-16" href="#__codelineno-8-16"></a>            <span class="s2">&quot;shutdown&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">module_set</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Models shutting down&quot;</span><span class="p">),</span>
<a id="__codelineno-8-17" name="__codelineno-8-17" href="#__codelineno-8-17"></a>        <span class="p">},</span>
<a id="__codelineno-8-18" name="__codelineno-8-18" href="#__codelineno-8-18"></a>        <span class="s2">&quot;services&quot;</span><span class="p">:</span> <span class="p">{</span>
<a id="__codelineno-8-19" name="__codelineno-8-19" href="#__codelineno-8-19"></a>            <span class="s2">&quot;startup&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">module_set</span><span class="p">:</span> <span class="n">initialize_services</span><span class="p">(</span><span class="n">module_set</span><span class="p">),</span>
<a id="__codelineno-8-20" name="__codelineno-8-20" href="#__codelineno-8-20"></a>            <span class="s2">&quot;shutdown&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">module_set</span><span class="p">:</span> <span class="n">cleanup_services</span><span class="p">(</span><span class="n">module_set</span><span class="p">),</span>
<a id="__codelineno-8-21" name="__codelineno-8-21" href="#__codelineno-8-21"></a>        <span class="p">},</span>
<a id="__codelineno-8-22" name="__codelineno-8-22" href="#__codelineno-8-22"></a>    <span class="p">},</span>
<a id="__codelineno-8-23" name="__codelineno-8-23" href="#__codelineno-8-23"></a><span class="p">)</span>
</code></pre></div>
<h3 id="schema-components">Schema Components</h3>
<p><strong><code>modules</code></strong> - List of module names
- These names correspond to Python files in your apps
- Example: <code>["models"]</code> means each app should have a <code>models.py</code>
- In <code>"strict"</code> mode, all apps must have all modules
- In <code>"loose"</code> mode, apps can skip modules</p>
<p><strong><code>dependencies</code></strong> - Dependency mapping
- Dictionary where keys are modules and values are their dependencies
- Format: <code>{"dependent": ["dependency1", "dependency2"]}</code>
- Example: <code>{"views": ["models"]}</code> means views must load after models
- The Framework uses this to determine loading order</p>
<p><strong><code>hooks</code></strong> - Lifecycle callbacks
- Dictionary mapping module names to Hook dictionaries
- Hooks receive a <strong>set of module objects</strong> (not individual modules)
- <code>startup</code> hook: Called after module loads, receives all instances of that module type
- <code>shutdown</code> hook: Called before module unloads</p>
<h3 id="hook-pattern-matching">Hook Pattern Matching</h3>
<p>Hooks support pattern matching with wildcards:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="k">def</span><span class="w"> </span><span class="nf">handle_all_models</span><span class="p">(</span><span class="n">module_set</span><span class="p">):</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Called for any app&#39;s models module.&quot;&quot;&quot;</span>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Loaded </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">module_set</span><span class="p">)</span><span class="si">}</span><span class="s2"> model modules&quot;</span><span class="p">)</span>
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a>
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="n">schema</span> <span class="o">=</span> <span class="n">Schema</span><span class="p">(</span>
<a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a>    <span class="n">modules</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;models&quot;</span><span class="p">],</span>
<a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a>    <span class="n">hooks</span><span class="o">=</span><span class="p">{</span>
<a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a>        <span class="c1"># Matches blog.models, users.models, etc.</span>
<a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a>        <span class="s2">&quot;*.models&quot;</span><span class="p">:</span> <span class="p">{</span>
<a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a>            <span class="s2">&quot;startup&quot;</span><span class="p">:</span> <span class="n">handle_all_models</span><span class="p">,</span>
<a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a>        <span class="p">}</span>
<a id="__codelineno-9-12" name="__codelineno-9-12" href="#__codelineno-9-12"></a>    <span class="p">}</span>
<a id="__codelineno-9-13" name="__codelineno-9-13" href="#__codelineno-9-13"></a><span class="p">)</span>
</code></pre></div>
<hr />
<h2 id="the-config-object">The Config Object</h2>
<p>The Config object is an immutable (frozen) dataclass that holds all configuration:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="k">class</span><span class="w"> </span><span class="nc">Config</span><span class="p">:</span>
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>    <span class="n">project</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span>      <span class="c1"># From spoc.toml</span>
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a>    <span class="n">settings</span><span class="p">:</span> <span class="n">Any</span>                <span class="c1"># From settings.py</span>
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a>    <span class="n">environment</span><span class="p">:</span> <span class="n">Any</span>             <span class="c1"># From .env/&lt;mode&gt;.toml</span>
</code></pre></div>
<h3 id="accessing-configuration">Accessing Configuration</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="c1"># Project configuration (from spoc.toml)</span>
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="n">framework</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">project</span><span class="p">[</span><span class="s2">&quot;mode&quot;</span><span class="p">]</span>           <span class="c1"># &quot;development&quot;</span>
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="n">framework</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">project</span><span class="p">[</span><span class="s2">&quot;debug&quot;</span><span class="p">]</span>          <span class="c1"># True</span>
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="n">framework</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">project</span><span class="p">[</span><span class="s2">&quot;apps&quot;</span><span class="p">]</span>           <span class="c1"># {&quot;production&quot;: [...], ...}</span>
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a>
<a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a><span class="c1"># Settings (from settings.py)</span>
<a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a><span class="n">framework</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">INSTALLED_APPS</span>   <span class="c1"># [&quot;blog&quot;, &quot;users&quot;]</span>
<a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a><span class="n">framework</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">BASE_DIR</span>         <span class="c1"># Path object</span>
<a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a><span class="n">framework</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">PLUGINS</span>          <span class="c1"># Plugin configuration</span>
<a id="__codelineno-11-10" name="__codelineno-11-10" href="#__codelineno-11-10"></a>
<a id="__codelineno-11-11" name="__codelineno-11-11" href="#__codelineno-11-11"></a><span class="c1"># Environment (from .env/development.toml)</span>
<a id="__codelineno-11-12" name="__codelineno-11-12" href="#__codelineno-11-12"></a><span class="n">framework</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">environment</span><span class="p">[</span><span class="s2">&quot;DATABASE_URL&quot;</span><span class="p">]</span>
<a id="__codelineno-11-13" name="__codelineno-11-13" href="#__codelineno-11-13"></a><span class="n">framework</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">environment</span><span class="p">[</span><span class="s2">&quot;API_KEY&quot;</span><span class="p">]</span>
</code></pre></div>
<h3 id="configuration-search-paths">Configuration Search Paths</h3>
<p>The Framework searches for configuration files in standard locations:</p>
<p><strong>spoc.toml</strong>:
1. <code>{base_dir}/config/spoc.toml</code>
2. <code>{base_dir}/spoc.toml</code></p>
<p><strong>settings.py</strong>:
1. <code>{base_dir}/config/settings.py</code>
2. <code>{base_dir}/conf/settings.py</code>
3. <code>{base_dir}/settings.py</code></p>
<p>Also accepts: <code>config.py</code>, <code>configuration.py</code></p>
<p><strong>Environment files</strong>:
1. <code>{base_dir}/config/.env/{mode}.toml</code>
2. <code>{base_dir}/.env/{mode}.toml</code></p>
<p>Falls back to <code>default.toml</code> if mode-specific file not found.</p>
<hr />
<h2 id="framework-lifecycle">Framework Lifecycle</h2>
<p>The Framework manages your application through distinct lifecycle phases:</p>
<pre class="mermaid"><code>sequenceDiagram
    participant User
    participant Framework
    participant Config
    participant Importer
    participant Apps
    participant Components

    User-&gt;&gt;Framework: Framework(base_dir, schema)
    Framework-&gt;&gt;Config: Load configuration
    Config--&gt;&gt;Framework: Config object

    Framework-&gt;&gt;Framework: Collect plugins
    Framework-&gt;&gt;Framework: startup() [automatic]

    Framework-&gt;&gt;Apps: Register all apps
    Framework-&gt;&gt;Importer: Register modules with dependencies
    Importer-&gt;&gt;Importer: Topological sort

    loop For each module in dependency order
        Importer-&gt;&gt;Apps: Import module
        Importer-&gt;&gt;Apps: Execute startup hook
        Importer-&gt;&gt;Apps: Call initialize() if exists
    end

    Framework-&gt;&gt;Components: Build component registry
    Components--&gt;&gt;Framework: components namespace

    Note over User,Framework: Application runs...

    User-&gt;&gt;Framework: shutdown()

    loop For each module in reverse order
        Importer-&gt;&gt;Apps: Call shutdown hook
        Importer-&gt;&gt;Apps: Call teardown() if exists
    end

    Framework--&gt;&gt;User: Application stopped</code></pre>
<h3 id="startup-sequence">Startup Sequence</h3>
<p>The <code>startup()</code> method orchestrates module initialization:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="k">def</span><span class="w"> </span><span class="nf">startup</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Framework</span><span class="p">:</span>
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Bootstrap the application.&quot;&quot;&quot;</span>
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_register_all_apps</span><span class="p">()</span>    <span class="c1"># 1. Register apps</span>
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">importer</span><span class="o">.</span><span class="n">startup</span><span class="p">()</span>       <span class="c1"># 2. Load modules</span>
<a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_init_components</span><span class="p">()</span>       <span class="c1"># 3. Index components</span>
<a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a>    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div>
<p><strong>Step 1: Register Apps</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="c1"># Collects apps from two sources:</span>
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="n">installed_apps</span> <span class="o">=</span> <span class="p">[</span>
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a>    <span class="c1"># From settings.py</span>
<a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a>    <span class="o">*</span><span class="n">config</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">INSTALLED_APPS</span><span class="p">,</span>
<a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a>
<a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a>    <span class="c1"># From spoc.toml based on mode</span>
<a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a>    <span class="o">*</span><span class="n">config</span><span class="o">.</span><span class="n">project</span><span class="p">[</span><span class="s2">&quot;apps&quot;</span><span class="p">][</span><span class="n">mode</span><span class="p">]</span>
<a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a><span class="p">]</span>
<a id="__codelineno-13-9" name="__codelineno-13-9" href="#__codelineno-13-9"></a>
<a id="__codelineno-13-10" name="__codelineno-13-10" href="#__codelineno-13-10"></a><span class="c1"># For each app, register its modules:</span>
<a id="__codelineno-13-11" name="__codelineno-13-11" href="#__codelineno-13-11"></a><span class="k">for</span> <span class="n">app</span> <span class="ow">in</span> <span class="n">installed_apps</span><span class="p">:</span>
<a id="__codelineno-13-12" name="__codelineno-13-12" href="#__codelineno-13-12"></a>    <span class="k">for</span> <span class="n">module</span> <span class="ow">in</span> <span class="n">schema</span><span class="o">.</span><span class="n">modules</span><span class="p">:</span>
<a id="__codelineno-13-13" name="__codelineno-13-13" href="#__codelineno-13-13"></a>        <span class="n">importer</span><span class="o">.</span><span class="n">register</span><span class="p">(</span>
<a id="__codelineno-13-14" name="__codelineno-13-14" href="#__codelineno-13-14"></a>            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">app</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">module</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
<a id="__codelineno-13-15" name="__codelineno-13-15" href="#__codelineno-13-15"></a>            <span class="n">dependencies</span><span class="o">=</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">app</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">dep</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">dep</span> <span class="ow">in</span> <span class="n">schema</span><span class="o">.</span><span class="n">dependencies</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">module</span><span class="p">,</span> <span class="p">[])]</span>
<a id="__codelineno-13-16" name="__codelineno-13-16" href="#__codelineno-13-16"></a>        <span class="p">)</span>
</code></pre></div>
<p><strong>Step 2: Load Modules</strong></p>
<p>The Importer performs a topological sort to determine loading order:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="c1"># Example with dependencies: {&quot;views&quot;: [&quot;models&quot;]}</span>
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="c1"># Loading order: blog.models, users.models, blog.views, users.views</span>
</code></pre></div>
<p>For each module in order:
1. Import the module
2. Execute startup hook (if defined)
3. Call <code>module.initialize()</code> (if exists)
4. Mark as initialized</p>
<p><strong>Step 3: Initialize Components</strong></p>
<p>The Framework scans loaded modules for decorated components:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="c1"># Finds objects with __spoc__ attribute</span>
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="c1"># Organizes by type (models, views, etc.)</span>
<a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a><span class="c1"># Creates namespace for easy access</span>
<a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a><span class="n">framework</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">models</span>  <span class="c1"># {&quot;blog.Post&quot;: Post, ...}</span>
<a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a><span class="n">framework</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">views</span>   <span class="c1"># {&quot;blog.list_posts&quot;: list_posts, ...}</span>
</code></pre></div>
<h3 id="shutdown-sequence">Shutdown Sequence</h3>
<p>The <code>shutdown()</code> method tears down in reverse order:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="k">def</span><span class="w"> </span><span class="nf">shutdown</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Framework</span><span class="p">:</span>
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Tear down the application.&quot;&quot;&quot;</span>
<a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">importer</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
<a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a>    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div>
<p>For each module in reverse dependency order:
1. Execute shutdown hook (if defined)
2. Call <code>module.teardown()</code> (if exists and initialized)
3. Mark as uninitialized</p>
<p>Example shutdown order:
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a>views  services  models
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a>(reverse of startup order)
</code></pre></div></p>
<h3 id="lifecycle-hooks-in-action">Lifecycle Hooks in Action</h3>
<p>Hooks receive a <strong>set of component objects</strong> from the module:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="k">def</span><span class="w"> </span><span class="nf">initialize_models</span><span class="p">(</span><span class="n">model_set</span><span class="p">):</span>
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Called when a models module loads.&quot;&quot;&quot;</span>
<a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Initializing </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">model_set</span><span class="p">)</span><span class="si">}</span><span class="s2"> models&quot;</span><span class="p">)</span>
<a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a>    <span class="k">for</span> <span class="n">model</span> <span class="ow">in</span> <span class="n">model_set</span><span class="p">:</span>
<a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a>        <span class="c1"># Setup database tables, validate schema, etc.</span>
<a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  - </span><span class="si">{</span><span class="n">model</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a>
<a id="__codelineno-18-8" name="__codelineno-18-8" href="#__codelineno-18-8"></a><span class="n">schema</span> <span class="o">=</span> <span class="n">Schema</span><span class="p">(</span>
<a id="__codelineno-18-9" name="__codelineno-18-9" href="#__codelineno-18-9"></a>    <span class="n">modules</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;models&quot;</span><span class="p">],</span>
<a id="__codelineno-18-10" name="__codelineno-18-10" href="#__codelineno-18-10"></a>    <span class="n">hooks</span><span class="o">=</span><span class="p">{</span>
<a id="__codelineno-18-11" name="__codelineno-18-11" href="#__codelineno-18-11"></a>        <span class="s2">&quot;models&quot;</span><span class="p">:</span> <span class="p">{</span>
<a id="__codelineno-18-12" name="__codelineno-18-12" href="#__codelineno-18-12"></a>            <span class="s2">&quot;startup&quot;</span><span class="p">:</span> <span class="n">initialize_models</span><span class="p">,</span>
<a id="__codelineno-18-13" name="__codelineno-18-13" href="#__codelineno-18-13"></a>        <span class="p">}</span>
<a id="__codelineno-18-14" name="__codelineno-18-14" href="#__codelineno-18-14"></a>    <span class="p">}</span>
<a id="__codelineno-18-15" name="__codelineno-18-15" href="#__codelineno-18-15"></a><span class="p">)</span>
</code></pre></div>
<p>When <code>blog.models</code> loads with decorated <code>Post</code> and <code>Comment</code> classes:
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>Initializing 2 models
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a>  - Post
<a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a>  - Comment
</code></pre></div></p>
<hr />
<h2 id="accessing-components">Accessing Components</h2>
<p>The Framework provides multiple ways to access your components:</p>
<h3 id="1-component-namespace">1. Component Namespace</h3>
<p>Direct attribute access to component dictionaries:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="c1"># Access all models</span>
<a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a><span class="n">all_models</span> <span class="o">=</span> <span class="n">framework</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">models</span>
<a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a>
<a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a><span class="c1"># Iterate over models</span>
<a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a><span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">model_class</span> <span class="ow">in</span> <span class="n">framework</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
<a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">model_class</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a>
<a id="__codelineno-20-8" name="__codelineno-20-8" href="#__codelineno-20-8"></a><span class="c1"># Output:</span>
<a id="__codelineno-20-9" name="__codelineno-20-9" href="#__codelineno-20-9"></a><span class="c1"># blog.Post: &lt;class &#39;blog.models.Post&#39;&gt;</span>
<a id="__codelineno-20-10" name="__codelineno-20-10" href="#__codelineno-20-10"></a><span class="c1"># blog.Comment: &lt;class &#39;blog.models.Comment&#39;&gt;</span>
<a id="__codelineno-20-11" name="__codelineno-20-11" href="#__codelineno-20-11"></a><span class="c1"># users.User: &lt;class &#39;users.models.User&#39;&gt;</span>
</code></pre></div>
<h3 id="2-get-component-method">2. Get Component Method</h3>
<p>Retrieve a specific component by kind and name:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="c1"># Get a specific component</span>
<a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a><span class="n">Post</span> <span class="o">=</span> <span class="n">framework</span><span class="o">.</span><span class="n">get_component</span><span class="p">(</span><span class="s2">&quot;model&quot;</span><span class="p">,</span> <span class="s2">&quot;blog.Post&quot;</span><span class="p">)</span>
<a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a>
<a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a><span class="c1"># Returns None if not found</span>
<a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a><span class="n">result</span> <span class="o">=</span> <span class="n">framework</span><span class="o">.</span><span class="n">get_component</span><span class="p">(</span><span class="s2">&quot;model&quot;</span><span class="p">,</span> <span class="s2">&quot;nonexistent.Model&quot;</span><span class="p">)</span>  <span class="c1"># None</span>
</code></pre></div>
<p><strong>Method signature</strong>:
<div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="k">def</span><span class="w"> </span><span class="nf">get_component</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kind</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a><span class="sd">    Get a framework component by &lt;kind&gt;.&lt;name&gt;</span>
<a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a>
<a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a><span class="sd">    Args:</span>
<a id="__codelineno-22-6" name="__codelineno-22-6" href="#__codelineno-22-6"></a><span class="sd">        kind: Component type (e.g., &quot;model&quot;, &quot;view&quot;)</span>
<a id="__codelineno-22-7" name="__codelineno-22-7" href="#__codelineno-22-7"></a><span class="sd">        name: Component name including app (e.g., &quot;blog.Post&quot;)</span>
<a id="__codelineno-22-8" name="__codelineno-22-8" href="#__codelineno-22-8"></a>
<a id="__codelineno-22-9" name="__codelineno-22-9" href="#__codelineno-22-9"></a><span class="sd">    Returns:</span>
<a id="__codelineno-22-10" name="__codelineno-22-10" href="#__codelineno-22-10"></a><span class="sd">        The component object or None if not found</span>
<a id="__codelineno-22-11" name="__codelineno-22-11" href="#__codelineno-22-11"></a><span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div></p>
<h3 id="3-installed-apps-list">3. Installed Apps List</h3>
<p>Access the list of loaded applications:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="c1"># Get all installed apps</span>
<a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a><span class="n">apps</span> <span class="o">=</span> <span class="n">framework</span><span class="o">.</span><span class="n">installed_apps</span>
<a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a><span class="c1"># [&quot;blog&quot;, &quot;users&quot;]</span>
<a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a>
<a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a><span class="c1"># Check if an app is loaded</span>
<a id="__codelineno-23-6" name="__codelineno-23-6" href="#__codelineno-23-6"></a><span class="k">if</span> <span class="s2">&quot;admin&quot;</span> <span class="ow">in</span> <span class="n">framework</span><span class="o">.</span><span class="n">installed_apps</span><span class="p">:</span>
<a id="__codelineno-23-7" name="__codelineno-23-7" href="#__codelineno-23-7"></a>    <span class="n">admin_views</span> <span class="o">=</span> <span class="n">framework</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">views</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;admin.dashboard&quot;</span><span class="p">)</span>
</code></pre></div>
<h3 id="component-organization">Component Organization</h3>
<p>Components are organized by type (module name):</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a>framework.components
<a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a> models          # Dict of model components
<a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a>    &quot;blog.Post&quot;        &lt;class Post&gt;
<a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a>    &quot;blog.Comment&quot;     &lt;class Comment&gt;
<a id="__codelineno-24-5" name="__codelineno-24-5" href="#__codelineno-24-5"></a>    &quot;users.User&quot;       &lt;class User&gt;
<a id="__codelineno-24-6" name="__codelineno-24-6" href="#__codelineno-24-6"></a> views           # Dict of view components
<a id="__codelineno-24-7" name="__codelineno-24-7" href="#__codelineno-24-7"></a>    &quot;blog.list_posts&quot;  &lt;function list_posts&gt;
<a id="__codelineno-24-8" name="__codelineno-24-8" href="#__codelineno-24-8"></a>    &quot;blog.create_post&quot;  &lt;function create_post&gt;
<a id="__codelineno-24-9" name="__codelineno-24-9" href="#__codelineno-24-9"></a> services        # Dict of service components
<a id="__codelineno-24-10" name="__codelineno-24-10" href="#__codelineno-24-10"></a>     &quot;blog.PostService&quot;  &lt;class PostService&gt;
</code></pre></div>
<hr />
<h2 id="dependency-resolution">Dependency Resolution</h2>
<p>The Framework uses a dependency graph to ensure modules load in the correct order:</p>
<h3 id="how-dependencies-work">How Dependencies Work</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a><span class="n">schema</span> <span class="o">=</span> <span class="n">Schema</span><span class="p">(</span>
<a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a>    <span class="n">modules</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;models&quot;</span><span class="p">,</span> <span class="s2">&quot;views&quot;</span><span class="p">,</span> <span class="s2">&quot;services&quot;</span><span class="p">],</span>
<a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a>    <span class="n">dependencies</span><span class="o">=</span><span class="p">{</span>
<a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a>        <span class="s2">&quot;views&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;models&quot;</span><span class="p">],</span>      <span class="c1"># views need models</span>
<a id="__codelineno-25-5" name="__codelineno-25-5" href="#__codelineno-25-5"></a>        <span class="s2">&quot;services&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;models&quot;</span><span class="p">],</span>   <span class="c1"># services need models</span>
<a id="__codelineno-25-6" name="__codelineno-25-6" href="#__codelineno-25-6"></a>    <span class="p">}</span>
<a id="__codelineno-25-7" name="__codelineno-25-7" href="#__codelineno-25-7"></a><span class="p">)</span>
</code></pre></div>
<p><strong>Dependency graph for apps <code>["blog", "users"]</code>:</strong></p>
<pre class="mermaid"><code>graph TD
    A[blog.models] --&gt; B[blog.views]
    A --&gt; C[blog.services]
    D[users.models] --&gt; E[users.views]
    D --&gt; F[users.services]

    style A fill:#e74c3c,color:#fff
    style D fill:#e74c3c,color:#fff
    style B fill:#3498db,color:#fff
    style E fill:#3498db,color:#fff
    style C fill:#2ecc71,color:#fff
    style F fill:#2ecc71,color:#fff</code></pre>
<p><strong>Loading order</strong> (topological sort):
1. <code>blog.models</code>
2. <code>users.models</code>
3. <code>blog.views</code>
4. <code>blog.services</code>
5. <code>users.views</code>
6. <code>users.services</code></p>
<h3 id="circular-dependency-detection">Circular Dependency Detection</h3>
<p>The Framework detects and prevents circular dependencies:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="c1"># This will raise CircularDependencyError</span>
<a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a><span class="n">schema</span> <span class="o">=</span> <span class="n">Schema</span><span class="p">(</span>
<a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a>    <span class="n">modules</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">],</span>
<a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a>    <span class="n">dependencies</span><span class="o">=</span><span class="p">{</span>
<a id="__codelineno-26-5" name="__codelineno-26-5" href="#__codelineno-26-5"></a>        <span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;b&quot;</span><span class="p">],</span>  <span class="c1"># a depends on b</span>
<a id="__codelineno-26-6" name="__codelineno-26-6" href="#__codelineno-26-6"></a>        <span class="s2">&quot;b&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">],</span>  <span class="c1"># b depends on a - CIRCULAR!</span>
<a id="__codelineno-26-7" name="__codelineno-26-7" href="#__codelineno-26-7"></a>    <span class="p">}</span>
<a id="__codelineno-26-8" name="__codelineno-26-8" href="#__codelineno-26-8"></a><span class="p">)</span>
<a id="__codelineno-26-9" name="__codelineno-26-9" href="#__codelineno-26-9"></a>
<a id="__codelineno-26-10" name="__codelineno-26-10" href="#__codelineno-26-10"></a><span class="c1"># Error: Circular dependency detected: a  b  a</span>
</code></pre></div>
<p><strong>Best practices</strong>:
- Keep dependencies unidirectional
- Models should have no dependencies
- Views depend on models
- Services depend on models
- Commands depend on services</p>
<h3 id="cross-app-dependencies">Cross-App Dependencies</h3>
<p>Dependencies are <strong>per module type</strong>, not per app:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="c1"># CORRECT: Module-level dependencies</span>
<a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a><span class="n">dependencies</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-27-3" name="__codelineno-27-3" href="#__codelineno-27-3"></a>    <span class="s2">&quot;views&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;models&quot;</span><span class="p">]</span>  <span class="c1"># ALL views depend on ALL models</span>
<a id="__codelineno-27-4" name="__codelineno-27-4" href="#__codelineno-27-4"></a><span class="p">}</span>
<a id="__codelineno-27-5" name="__codelineno-27-5" href="#__codelineno-27-5"></a>
<a id="__codelineno-27-6" name="__codelineno-27-6" href="#__codelineno-27-6"></a><span class="c1"># Note: You cannot specify that blog.views depends on users.models</span>
<a id="__codelineno-27-7" name="__codelineno-27-7" href="#__codelineno-27-7"></a><span class="c1"># Dependencies are defined at the module level, not the app level</span>
</code></pre></div>
<p>If you need app-specific dependencies, consider:
- Splitting into separate module types
- Using lazy imports within the module
- Restructuring your application architecture</p>
<hr />
<h2 id="working-with-the-importer">Working with the Importer</h2>
<p>The Framework delegates module loading to an Importer instance:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="c1"># Access the importer</span>
<a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a><span class="n">importer</span> <span class="o">=</span> <span class="n">framework</span><span class="o">.</span><span class="n">importer</span>
<a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a>
<a id="__codelineno-28-4" name="__codelineno-28-4" href="#__codelineno-28-4"></a><span class="c1"># Check if a module is loaded</span>
<a id="__codelineno-28-5" name="__codelineno-28-5" href="#__codelineno-28-5"></a><span class="k">if</span> <span class="n">importer</span><span class="o">.</span><span class="n">has</span><span class="p">(</span><span class="s2">&quot;blog.models&quot;</span><span class="p">):</span>
<a id="__codelineno-28-6" name="__codelineno-28-6" href="#__codelineno-28-6"></a>    <span class="n">models</span> <span class="o">=</span> <span class="n">importer</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;blog.models&quot;</span><span class="p">)</span>
<a id="__codelineno-28-7" name="__codelineno-28-7" href="#__codelineno-28-7"></a>
<a id="__codelineno-28-8" name="__codelineno-28-8" href="#__codelineno-28-8"></a><span class="c1"># Get all loaded module names</span>
<a id="__codelineno-28-9" name="__codelineno-28-9" href="#__codelineno-28-9"></a><span class="n">modules</span> <span class="o">=</span> <span class="n">importer</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
</code></pre></div>
<h3 id="importer-modes">Importer Modes</h3>
<p>The <code>mode</code> parameter controls error handling:</p>
<p><strong>Strict Mode</strong> (recommended):
<div class="highlight"><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a><span class="n">framework</span> <span class="o">=</span> <span class="n">Framework</span><span class="p">(</span><span class="n">base_dir</span><span class="p">,</span> <span class="n">schema</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;strict&quot;</span><span class="p">)</span>
<a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a>
<a id="__codelineno-29-3" name="__codelineno-29-3" href="#__codelineno-29-3"></a><span class="c1"># Raises AppNotFoundError if module doesn&#39;t exist</span>
<a id="__codelineno-29-4" name="__codelineno-29-4" href="#__codelineno-29-4"></a><span class="c1"># Good for development: catches missing modules immediately</span>
</code></pre></div></p>
<p><strong>Loose Mode</strong>:
<div class="highlight"><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a><span class="n">framework</span> <span class="o">=</span> <span class="n">Framework</span><span class="p">(</span><span class="n">base_dir</span><span class="p">,</span> <span class="n">schema</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;loose&quot;</span><span class="p">)</span>
<a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a>
<a id="__codelineno-30-3" name="__codelineno-30-3" href="#__codelineno-30-3"></a><span class="c1"># Returns None if module doesn&#39;t exist</span>
<a id="__codelineno-30-4" name="__codelineno-30-4" href="#__codelineno-30-4"></a><span class="c1"># Good for optional features or testing</span>
</code></pre></div></p>
<h3 id="module-loading-pattern">Module Loading Pattern</h3>
<p>The Importer uses a caching pattern:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a><span class="c1"># First call: imports and caches</span>
<a id="__codelineno-31-2" name="__codelineno-31-2" href="#__codelineno-31-2"></a><span class="n">module1</span> <span class="o">=</span> <span class="n">importer</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;blog.models&quot;</span><span class="p">)</span>
<a id="__codelineno-31-3" name="__codelineno-31-3" href="#__codelineno-31-3"></a>
<a id="__codelineno-31-4" name="__codelineno-31-4" href="#__codelineno-31-4"></a><span class="c1"># Second call: returns cached version</span>
<a id="__codelineno-31-5" name="__codelineno-31-5" href="#__codelineno-31-5"></a><span class="n">module2</span> <span class="o">=</span> <span class="n">importer</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;blog.models&quot;</span><span class="p">)</span>
<a id="__codelineno-31-6" name="__codelineno-31-6" href="#__codelineno-31-6"></a>
<a id="__codelineno-31-7" name="__codelineno-31-7" href="#__codelineno-31-7"></a><span class="k">assert</span> <span class="n">module1</span> <span class="ow">is</span> <span class="n">module2</span>  <span class="c1"># Same object</span>
</code></pre></div>
<hr />
<h2 id="practical-examples">Practical Examples</h2>
<h3 id="example-1-database-connection-management">Example 1: Database Connection Management</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a><span class="k">def</span><span class="w"> </span><span class="nf">connect_db</span><span class="p">(</span><span class="n">model_set</span><span class="p">):</span>
<a id="__codelineno-32-2" name="__codelineno-32-2" href="#__codelineno-32-2"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Connect to database when models load.&quot;&quot;&quot;</span>
<a id="__codelineno-32-3" name="__codelineno-32-3" href="#__codelineno-32-3"></a>    <span class="kn">import</span><span class="w"> </span><span class="nn">sqlite3</span>
<a id="__codelineno-32-4" name="__codelineno-32-4" href="#__codelineno-32-4"></a>    <span class="n">db</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;app.db&quot;</span><span class="p">)</span>
<a id="__codelineno-32-5" name="__codelineno-32-5" href="#__codelineno-32-5"></a>    <span class="c1"># Store connection somewhere accessible</span>
<a id="__codelineno-32-6" name="__codelineno-32-6" href="#__codelineno-32-6"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Database connected for </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">model_set</span><span class="p">)</span><span class="si">}</span><span class="s2"> models&quot;</span><span class="p">)</span>
<a id="__codelineno-32-7" name="__codelineno-32-7" href="#__codelineno-32-7"></a>
<a id="__codelineno-32-8" name="__codelineno-32-8" href="#__codelineno-32-8"></a><span class="k">def</span><span class="w"> </span><span class="nf">disconnect_db</span><span class="p">(</span><span class="n">model_set</span><span class="p">):</span>
<a id="__codelineno-32-9" name="__codelineno-32-9" href="#__codelineno-32-9"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Disconnect from database when models unload.&quot;&quot;&quot;</span>
<a id="__codelineno-32-10" name="__codelineno-32-10" href="#__codelineno-32-10"></a>    <span class="c1"># Close database connection</span>
<a id="__codelineno-32-11" name="__codelineno-32-11" href="#__codelineno-32-11"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Database disconnected&quot;</span><span class="p">)</span>
<a id="__codelineno-32-12" name="__codelineno-32-12" href="#__codelineno-32-12"></a>
<a id="__codelineno-32-13" name="__codelineno-32-13" href="#__codelineno-32-13"></a><span class="n">schema</span> <span class="o">=</span> <span class="n">Schema</span><span class="p">(</span>
<a id="__codelineno-32-14" name="__codelineno-32-14" href="#__codelineno-32-14"></a>    <span class="n">modules</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;models&quot;</span><span class="p">,</span> <span class="s2">&quot;views&quot;</span><span class="p">],</span>
<a id="__codelineno-32-15" name="__codelineno-32-15" href="#__codelineno-32-15"></a>    <span class="n">dependencies</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;views&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;models&quot;</span><span class="p">]},</span>
<a id="__codelineno-32-16" name="__codelineno-32-16" href="#__codelineno-32-16"></a>    <span class="n">hooks</span><span class="o">=</span><span class="p">{</span>
<a id="__codelineno-32-17" name="__codelineno-32-17" href="#__codelineno-32-17"></a>        <span class="s2">&quot;models&quot;</span><span class="p">:</span> <span class="p">{</span>
<a id="__codelineno-32-18" name="__codelineno-32-18" href="#__codelineno-32-18"></a>            <span class="s2">&quot;startup&quot;</span><span class="p">:</span> <span class="n">connect_db</span><span class="p">,</span>
<a id="__codelineno-32-19" name="__codelineno-32-19" href="#__codelineno-32-19"></a>            <span class="s2">&quot;shutdown&quot;</span><span class="p">:</span> <span class="n">disconnect_db</span><span class="p">,</span>
<a id="__codelineno-32-20" name="__codelineno-32-20" href="#__codelineno-32-20"></a>        <span class="p">}</span>
<a id="__codelineno-32-21" name="__codelineno-32-21" href="#__codelineno-32-21"></a>    <span class="p">}</span>
<a id="__codelineno-32-22" name="__codelineno-32-22" href="#__codelineno-32-22"></a><span class="p">)</span>
</code></pre></div>
<h3 id="example-2-cache-warmup">Example 2: Cache Warmup</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a><span class="k">def</span><span class="w"> </span><span class="nf">warmup_cache</span><span class="p">(</span><span class="n">view_set</span><span class="p">):</span>
<a id="__codelineno-33-2" name="__codelineno-33-2" href="#__codelineno-33-2"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Pre-load frequently accessed data.&quot;&quot;&quot;</span>
<a id="__codelineno-33-3" name="__codelineno-33-3" href="#__codelineno-33-3"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Warming up cache for </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">view_set</span><span class="p">)</span><span class="si">}</span><span class="s2"> views&quot;</span><span class="p">)</span>
<a id="__codelineno-33-4" name="__codelineno-33-4" href="#__codelineno-33-4"></a>    <span class="k">for</span> <span class="n">view</span> <span class="ow">in</span> <span class="n">view_set</span><span class="p">:</span>
<a id="__codelineno-33-5" name="__codelineno-33-5" href="#__codelineno-33-5"></a>        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">view</span><span class="p">,</span> <span class="s2">&quot;warmup&quot;</span><span class="p">):</span>
<a id="__codelineno-33-6" name="__codelineno-33-6" href="#__codelineno-33-6"></a>            <span class="n">view</span><span class="o">.</span><span class="n">warmup</span><span class="p">()</span>
<a id="__codelineno-33-7" name="__codelineno-33-7" href="#__codelineno-33-7"></a>
<a id="__codelineno-33-8" name="__codelineno-33-8" href="#__codelineno-33-8"></a><span class="n">schema</span> <span class="o">=</span> <span class="n">Schema</span><span class="p">(</span>
<a id="__codelineno-33-9" name="__codelineno-33-9" href="#__codelineno-33-9"></a>    <span class="n">modules</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;models&quot;</span><span class="p">,</span> <span class="s2">&quot;views&quot;</span><span class="p">],</span>
<a id="__codelineno-33-10" name="__codelineno-33-10" href="#__codelineno-33-10"></a>    <span class="n">dependencies</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;views&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;models&quot;</span><span class="p">]},</span>
<a id="__codelineno-33-11" name="__codelineno-33-11" href="#__codelineno-33-11"></a>    <span class="n">hooks</span><span class="o">=</span><span class="p">{</span>
<a id="__codelineno-33-12" name="__codelineno-33-12" href="#__codelineno-33-12"></a>        <span class="s2">&quot;views&quot;</span><span class="p">:</span> <span class="p">{</span>
<a id="__codelineno-33-13" name="__codelineno-33-13" href="#__codelineno-33-13"></a>            <span class="s2">&quot;startup&quot;</span><span class="p">:</span> <span class="n">warmup_cache</span><span class="p">,</span>
<a id="__codelineno-33-14" name="__codelineno-33-14" href="#__codelineno-33-14"></a>        <span class="p">}</span>
<a id="__codelineno-33-15" name="__codelineno-33-15" href="#__codelineno-33-15"></a>    <span class="p">}</span>
<a id="__codelineno-33-16" name="__codelineno-33-16" href="#__codelineno-33-16"></a><span class="p">)</span>
</code></pre></div>
<h3 id="example-3-component-discovery">Example 3: Component Discovery</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a><span class="k">def</span><span class="w"> </span><span class="nf">discover_commands</span><span class="p">(</span><span class="n">command_set</span><span class="p">):</span>
<a id="__codelineno-34-2" name="__codelineno-34-2" href="#__codelineno-34-2"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Register CLI commands.&quot;&quot;&quot;</span>
<a id="__codelineno-34-3" name="__codelineno-34-3" href="#__codelineno-34-3"></a>    <span class="kn">import</span><span class="w"> </span><span class="nn">sys</span>
<a id="__codelineno-34-4" name="__codelineno-34-4" href="#__codelineno-34-4"></a>    <span class="n">cli_registry</span> <span class="o">=</span> <span class="p">{}</span>
<a id="__codelineno-34-5" name="__codelineno-34-5" href="#__codelineno-34-5"></a>
<a id="__codelineno-34-6" name="__codelineno-34-6" href="#__codelineno-34-6"></a>    <span class="k">for</span> <span class="n">cmd</span> <span class="ow">in</span> <span class="n">command_set</span><span class="p">:</span>
<a id="__codelineno-34-7" name="__codelineno-34-7" href="#__codelineno-34-7"></a>        <span class="n">cmd_name</span> <span class="o">=</span> <span class="n">cmd</span><span class="o">.</span><span class="vm">__name__</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
<a id="__codelineno-34-8" name="__codelineno-34-8" href="#__codelineno-34-8"></a>        <span class="n">cli_registry</span><span class="p">[</span><span class="n">cmd_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">cmd</span>
<a id="__codelineno-34-9" name="__codelineno-34-9" href="#__codelineno-34-9"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Registered command: </span><span class="si">{</span><span class="n">cmd_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-34-10" name="__codelineno-34-10" href="#__codelineno-34-10"></a>
<a id="__codelineno-34-11" name="__codelineno-34-11" href="#__codelineno-34-11"></a>    <span class="c1"># Store registry for CLI tool</span>
<a id="__codelineno-34-12" name="__codelineno-34-12" href="#__codelineno-34-12"></a>    <span class="n">sys</span><span class="o">.</span><span class="n">modules</span><span class="p">[</span><span class="s2">&quot;__main__&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">commands</span> <span class="o">=</span> <span class="n">cli_registry</span>
<a id="__codelineno-34-13" name="__codelineno-34-13" href="#__codelineno-34-13"></a>
<a id="__codelineno-34-14" name="__codelineno-34-14" href="#__codelineno-34-14"></a><span class="n">schema</span> <span class="o">=</span> <span class="n">Schema</span><span class="p">(</span>
<a id="__codelineno-34-15" name="__codelineno-34-15" href="#__codelineno-34-15"></a>    <span class="n">modules</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;commands&quot;</span><span class="p">],</span>
<a id="__codelineno-34-16" name="__codelineno-34-16" href="#__codelineno-34-16"></a>    <span class="n">hooks</span><span class="o">=</span><span class="p">{</span>
<a id="__codelineno-34-17" name="__codelineno-34-17" href="#__codelineno-34-17"></a>        <span class="s2">&quot;commands&quot;</span><span class="p">:</span> <span class="p">{</span>
<a id="__codelineno-34-18" name="__codelineno-34-18" href="#__codelineno-34-18"></a>            <span class="s2">&quot;startup&quot;</span><span class="p">:</span> <span class="n">discover_commands</span><span class="p">,</span>
<a id="__codelineno-34-19" name="__codelineno-34-19" href="#__codelineno-34-19"></a>        <span class="p">}</span>
<a id="__codelineno-34-20" name="__codelineno-34-20" href="#__codelineno-34-20"></a>    <span class="p">}</span>
<a id="__codelineno-34-21" name="__codelineno-34-21" href="#__codelineno-34-21"></a><span class="p">)</span>
</code></pre></div>
<h3 id="example-4-multi-app-project">Example 4: Multi-App Project</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">pathlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">Path</span>
<a id="__codelineno-35-2" name="__codelineno-35-2" href="#__codelineno-35-2"></a><span class="kn">from</span><span class="w"> </span><span class="nn">spoc</span><span class="w"> </span><span class="kn">import</span> <span class="n">Framework</span><span class="p">,</span> <span class="n">Schema</span>
<a id="__codelineno-35-3" name="__codelineno-35-3" href="#__codelineno-35-3"></a>
<a id="__codelineno-35-4" name="__codelineno-35-4" href="#__codelineno-35-4"></a><span class="c1"># Define schema for e-commerce app</span>
<a id="__codelineno-35-5" name="__codelineno-35-5" href="#__codelineno-35-5"></a><span class="n">schema</span> <span class="o">=</span> <span class="n">Schema</span><span class="p">(</span>
<a id="__codelineno-35-6" name="__codelineno-35-6" href="#__codelineno-35-6"></a>    <span class="n">modules</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;models&quot;</span><span class="p">,</span> <span class="s2">&quot;views&quot;</span><span class="p">,</span> <span class="s2">&quot;services&quot;</span><span class="p">,</span> <span class="s2">&quot;tasks&quot;</span><span class="p">],</span>
<a id="__codelineno-35-7" name="__codelineno-35-7" href="#__codelineno-35-7"></a>    <span class="n">dependencies</span><span class="o">=</span><span class="p">{</span>
<a id="__codelineno-35-8" name="__codelineno-35-8" href="#__codelineno-35-8"></a>        <span class="s2">&quot;views&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;models&quot;</span><span class="p">],</span>
<a id="__codelineno-35-9" name="__codelineno-35-9" href="#__codelineno-35-9"></a>        <span class="s2">&quot;services&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;models&quot;</span><span class="p">],</span>
<a id="__codelineno-35-10" name="__codelineno-35-10" href="#__codelineno-35-10"></a>        <span class="s2">&quot;tasks&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;services&quot;</span><span class="p">],</span>
<a id="__codelineno-35-11" name="__codelineno-35-11" href="#__codelineno-35-11"></a>    <span class="p">}</span>
<a id="__codelineno-35-12" name="__codelineno-35-12" href="#__codelineno-35-12"></a><span class="p">)</span>
<a id="__codelineno-35-13" name="__codelineno-35-13" href="#__codelineno-35-13"></a>
<a id="__codelineno-35-14" name="__codelineno-35-14" href="#__codelineno-35-14"></a><span class="c1"># Initialize framework</span>
<a id="__codelineno-35-15" name="__codelineno-35-15" href="#__codelineno-35-15"></a><span class="n">framework</span> <span class="o">=</span> <span class="n">Framework</span><span class="p">(</span>
<a id="__codelineno-35-16" name="__codelineno-35-16" href="#__codelineno-35-16"></a>    <span class="n">base_dir</span><span class="o">=</span><span class="n">Path</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span><span class="p">,</span>
<a id="__codelineno-35-17" name="__codelineno-35-17" href="#__codelineno-35-17"></a>    <span class="n">schema</span><span class="o">=</span><span class="n">schema</span><span class="p">,</span>
<a id="__codelineno-35-18" name="__codelineno-35-18" href="#__codelineno-35-18"></a>    <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;strict&quot;</span><span class="p">,</span>
<a id="__codelineno-35-19" name="__codelineno-35-19" href="#__codelineno-35-19"></a><span class="p">)</span>
<a id="__codelineno-35-20" name="__codelineno-35-20" href="#__codelineno-35-20"></a>
<a id="__codelineno-35-21" name="__codelineno-35-21" href="#__codelineno-35-21"></a><span class="c1"># Access components from different apps</span>
<a id="__codelineno-35-22" name="__codelineno-35-22" href="#__codelineno-35-22"></a><span class="n">Product</span> <span class="o">=</span> <span class="n">framework</span><span class="o">.</span><span class="n">get_component</span><span class="p">(</span><span class="s2">&quot;model&quot;</span><span class="p">,</span> <span class="s2">&quot;catalog.Product&quot;</span><span class="p">)</span>
<a id="__codelineno-35-23" name="__codelineno-35-23" href="#__codelineno-35-23"></a><span class="n">Order</span> <span class="o">=</span> <span class="n">framework</span><span class="o">.</span><span class="n">get_component</span><span class="p">(</span><span class="s2">&quot;model&quot;</span><span class="p">,</span> <span class="s2">&quot;orders.Order&quot;</span><span class="p">)</span>
<a id="__codelineno-35-24" name="__codelineno-35-24" href="#__codelineno-35-24"></a><span class="n">User</span> <span class="o">=</span> <span class="n">framework</span><span class="o">.</span><span class="n">get_component</span><span class="p">(</span><span class="s2">&quot;model&quot;</span><span class="p">,</span> <span class="s2">&quot;auth.User&quot;</span><span class="p">)</span>
<a id="__codelineno-35-25" name="__codelineno-35-25" href="#__codelineno-35-25"></a>
<a id="__codelineno-35-26" name="__codelineno-35-26" href="#__codelineno-35-26"></a><span class="n">checkout_service</span> <span class="o">=</span> <span class="n">framework</span><span class="o">.</span><span class="n">get_component</span><span class="p">(</span><span class="s2">&quot;service&quot;</span><span class="p">,</span> <span class="s2">&quot;orders.CheckoutService&quot;</span><span class="p">)</span>
</code></pre></div>
<hr />
<h2 id="common-patterns">Common Patterns</h2>
<h3 id="pattern-1-singleton-framework">Pattern 1: Singleton Framework</h3>
<p>Create a single framework instance for your entire application:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a><span class="c1"># framework.py</span>
<a id="__codelineno-36-2" name="__codelineno-36-2" href="#__codelineno-36-2"></a><span class="kn">from</span><span class="w"> </span><span class="nn">pathlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">Path</span>
<a id="__codelineno-36-3" name="__codelineno-36-3" href="#__codelineno-36-3"></a><span class="kn">from</span><span class="w"> </span><span class="nn">spoc</span><span class="w"> </span><span class="kn">import</span> <span class="n">Framework</span><span class="p">,</span> <span class="n">Schema</span>
<a id="__codelineno-36-4" name="__codelineno-36-4" href="#__codelineno-36-4"></a>
<a id="__codelineno-36-5" name="__codelineno-36-5" href="#__codelineno-36-5"></a><span class="n">_framework</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-36-6" name="__codelineno-36-6" href="#__codelineno-36-6"></a>
<a id="__codelineno-36-7" name="__codelineno-36-7" href="#__codelineno-36-7"></a><span class="k">def</span><span class="w"> </span><span class="nf">get_framework</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Framework</span><span class="p">:</span>
<a id="__codelineno-36-8" name="__codelineno-36-8" href="#__codelineno-36-8"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Get or create the framework instance.&quot;&quot;&quot;</span>
<a id="__codelineno-36-9" name="__codelineno-36-9" href="#__codelineno-36-9"></a>    <span class="k">global</span> <span class="n">_framework</span>
<a id="__codelineno-36-10" name="__codelineno-36-10" href="#__codelineno-36-10"></a>    <span class="k">if</span> <span class="n">_framework</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-36-11" name="__codelineno-36-11" href="#__codelineno-36-11"></a>        <span class="n">schema</span> <span class="o">=</span> <span class="n">Schema</span><span class="p">(</span><span class="n">modules</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;models&quot;</span><span class="p">,</span> <span class="s2">&quot;views&quot;</span><span class="p">])</span>
<a id="__codelineno-36-12" name="__codelineno-36-12" href="#__codelineno-36-12"></a>        <span class="n">_framework</span> <span class="o">=</span> <span class="n">Framework</span><span class="p">(</span>
<a id="__codelineno-36-13" name="__codelineno-36-13" href="#__codelineno-36-13"></a>            <span class="n">base_dir</span><span class="o">=</span><span class="n">Path</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span><span class="p">,</span>
<a id="__codelineno-36-14" name="__codelineno-36-14" href="#__codelineno-36-14"></a>            <span class="n">schema</span><span class="o">=</span><span class="n">schema</span><span class="p">,</span>
<a id="__codelineno-36-15" name="__codelineno-36-15" href="#__codelineno-36-15"></a>        <span class="p">)</span>
<a id="__codelineno-36-16" name="__codelineno-36-16" href="#__codelineno-36-16"></a>    <span class="k">return</span> <span class="n">_framework</span>
<a id="__codelineno-36-17" name="__codelineno-36-17" href="#__codelineno-36-17"></a>
<a id="__codelineno-36-18" name="__codelineno-36-18" href="#__codelineno-36-18"></a><span class="c1"># Use anywhere in your app</span>
<a id="__codelineno-36-19" name="__codelineno-36-19" href="#__codelineno-36-19"></a><span class="kn">from</span><span class="w"> </span><span class="nn">framework</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_framework</span>
<a id="__codelineno-36-20" name="__codelineno-36-20" href="#__codelineno-36-20"></a>
<a id="__codelineno-36-21" name="__codelineno-36-21" href="#__codelineno-36-21"></a><span class="n">framework</span> <span class="o">=</span> <span class="n">get_framework</span><span class="p">()</span>
<a id="__codelineno-36-22" name="__codelineno-36-22" href="#__codelineno-36-22"></a><span class="n">User</span> <span class="o">=</span> <span class="n">framework</span><span class="o">.</span><span class="n">get_component</span><span class="p">(</span><span class="s2">&quot;model&quot;</span><span class="p">,</span> <span class="s2">&quot;auth.User&quot;</span><span class="p">)</span>
</code></pre></div>
<h3 id="pattern-2-lazy-component-loading">Pattern 2: Lazy Component Loading</h3>
<p>Access components only when needed:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-37-1" name="__codelineno-37-1" href="#__codelineno-37-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">PostService</span><span class="p">:</span>
<a id="__codelineno-37-2" name="__codelineno-37-2" href="#__codelineno-37-2"></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">framework</span><span class="p">):</span>
<a id="__codelineno-37-3" name="__codelineno-37-3" href="#__codelineno-37-3"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">framework</span> <span class="o">=</span> <span class="n">framework</span>
<a id="__codelineno-37-4" name="__codelineno-37-4" href="#__codelineno-37-4"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_post_model</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-37-5" name="__codelineno-37-5" href="#__codelineno-37-5"></a>
<a id="__codelineno-37-6" name="__codelineno-37-6" href="#__codelineno-37-6"></a>    <span class="nd">@property</span>
<a id="__codelineno-37-7" name="__codelineno-37-7" href="#__codelineno-37-7"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">Post</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-37-8" name="__codelineno-37-8" href="#__codelineno-37-8"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Lazy load Post model.&quot;&quot;&quot;</span>
<a id="__codelineno-37-9" name="__codelineno-37-9" href="#__codelineno-37-9"></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_post_model</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-37-10" name="__codelineno-37-10" href="#__codelineno-37-10"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_post_model</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">framework</span><span class="o">.</span><span class="n">get_component</span><span class="p">(</span><span class="s2">&quot;model&quot;</span><span class="p">,</span> <span class="s2">&quot;blog.Post&quot;</span><span class="p">)</span>
<a id="__codelineno-37-11" name="__codelineno-37-11" href="#__codelineno-37-11"></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_post_model</span>
<a id="__codelineno-37-12" name="__codelineno-37-12" href="#__codelineno-37-12"></a>
<a id="__codelineno-37-13" name="__codelineno-37-13" href="#__codelineno-37-13"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">create_post</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">title</span><span class="p">,</span> <span class="n">content</span><span class="p">):</span>
<a id="__codelineno-37-14" name="__codelineno-37-14" href="#__codelineno-37-14"></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">Post</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span> <span class="n">content</span><span class="o">=</span><span class="n">content</span><span class="p">)</span>
</code></pre></div>
<h3 id="pattern-3-environment-based-configuration">Pattern 3: Environment-Based Configuration</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-38-1" name="__codelineno-38-1" href="#__codelineno-38-1"></a><span class="c1"># spoc.toml</span>
<a id="__codelineno-38-2" name="__codelineno-38-2" href="#__codelineno-38-2"></a><span class="p">[</span><span class="n">spoc</span><span class="p">]</span>
<a id="__codelineno-38-3" name="__codelineno-38-3" href="#__codelineno-38-3"></a><span class="n">mode</span> <span class="o">=</span> <span class="s2">&quot;production&quot;</span>
<a id="__codelineno-38-4" name="__codelineno-38-4" href="#__codelineno-38-4"></a>
<a id="__codelineno-38-5" name="__codelineno-38-5" href="#__codelineno-38-5"></a><span class="p">[</span><span class="n">spoc</span><span class="o">.</span><span class="n">apps</span><span class="p">]</span>
<a id="__codelineno-38-6" name="__codelineno-38-6" href="#__codelineno-38-6"></a><span class="n">production</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;core&quot;</span><span class="p">,</span> <span class="s2">&quot;api&quot;</span><span class="p">]</span>
<a id="__codelineno-38-7" name="__codelineno-38-7" href="#__codelineno-38-7"></a><span class="n">staging</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;core&quot;</span><span class="p">,</span> <span class="s2">&quot;api&quot;</span><span class="p">,</span> <span class="s2">&quot;monitoring&quot;</span><span class="p">]</span>
<a id="__codelineno-38-8" name="__codelineno-38-8" href="#__codelineno-38-8"></a><span class="n">development</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;core&quot;</span><span class="p">,</span> <span class="s2">&quot;api&quot;</span><span class="p">,</span> <span class="s2">&quot;monitoring&quot;</span><span class="p">,</span> <span class="s2">&quot;debug&quot;</span><span class="p">]</span>
<a id="__codelineno-38-9" name="__codelineno-38-9" href="#__codelineno-38-9"></a>
<a id="__codelineno-38-10" name="__codelineno-38-10" href="#__codelineno-38-10"></a><span class="c1"># Different apps load based on mode</span>
<a id="__codelineno-38-11" name="__codelineno-38-11" href="#__codelineno-38-11"></a><span class="n">framework</span> <span class="o">=</span> <span class="n">Framework</span><span class="p">(</span><span class="n">base_dir</span><span class="p">,</span> <span class="n">schema</span><span class="p">)</span>
<a id="__codelineno-38-12" name="__codelineno-38-12" href="#__codelineno-38-12"></a><span class="nb">print</span><span class="p">(</span><span class="n">framework</span><span class="o">.</span><span class="n">installed_apps</span><span class="p">)</span>  <span class="c1"># [&quot;core&quot;, &quot;api&quot;] in production</span>
</code></pre></div>
<h3 id="pattern-4-custom-hook-functions">Pattern 4: Custom Hook Functions</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-39-1" name="__codelineno-39-1" href="#__codelineno-39-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">DatabaseManager</span><span class="p">:</span>
<a id="__codelineno-39-2" name="__codelineno-39-2" href="#__codelineno-39-2"></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-39-3" name="__codelineno-39-3" href="#__codelineno-39-3"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">connections</span> <span class="o">=</span> <span class="p">{}</span>
<a id="__codelineno-39-4" name="__codelineno-39-4" href="#__codelineno-39-4"></a>
<a id="__codelineno-39-5" name="__codelineno-39-5" href="#__codelineno-39-5"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">startup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model_set</span><span class="p">):</span>
<a id="__codelineno-39-6" name="__codelineno-39-6" href="#__codelineno-39-6"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Create database connections for models.&quot;&quot;&quot;</span>
<a id="__codelineno-39-7" name="__codelineno-39-7" href="#__codelineno-39-7"></a>        <span class="k">for</span> <span class="n">model</span> <span class="ow">in</span> <span class="n">model_set</span><span class="p">:</span>
<a id="__codelineno-39-8" name="__codelineno-39-8" href="#__codelineno-39-8"></a>            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="s2">&quot;DATABASE&quot;</span><span class="p">):</span>
<a id="__codelineno-39-9" name="__codelineno-39-9" href="#__codelineno-39-9"></a>                <span class="n">db_name</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">DATABASE</span>
<a id="__codelineno-39-10" name="__codelineno-39-10" href="#__codelineno-39-10"></a>                <span class="k">if</span> <span class="n">db_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">connections</span><span class="p">:</span>
<a id="__codelineno-39-11" name="__codelineno-39-11" href="#__codelineno-39-11"></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">connections</span><span class="p">[</span><span class="n">db_name</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">db_name</span><span class="p">)</span>
<a id="__codelineno-39-12" name="__codelineno-39-12" href="#__codelineno-39-12"></a>
<a id="__codelineno-39-13" name="__codelineno-39-13" href="#__codelineno-39-13"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">shutdown</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model_set</span><span class="p">):</span>
<a id="__codelineno-39-14" name="__codelineno-39-14" href="#__codelineno-39-14"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Close all database connections.&quot;&quot;&quot;</span>
<a id="__codelineno-39-15" name="__codelineno-39-15" href="#__codelineno-39-15"></a>        <span class="k">for</span> <span class="n">conn</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">connections</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
<a id="__codelineno-39-16" name="__codelineno-39-16" href="#__codelineno-39-16"></a>            <span class="n">conn</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<a id="__codelineno-39-17" name="__codelineno-39-17" href="#__codelineno-39-17"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">connections</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
<a id="__codelineno-39-18" name="__codelineno-39-18" href="#__codelineno-39-18"></a>
<a id="__codelineno-39-19" name="__codelineno-39-19" href="#__codelineno-39-19"></a><span class="n">db_manager</span> <span class="o">=</span> <span class="n">DatabaseManager</span><span class="p">()</span>
<a id="__codelineno-39-20" name="__codelineno-39-20" href="#__codelineno-39-20"></a>
<a id="__codelineno-39-21" name="__codelineno-39-21" href="#__codelineno-39-21"></a><span class="n">schema</span> <span class="o">=</span> <span class="n">Schema</span><span class="p">(</span>
<a id="__codelineno-39-22" name="__codelineno-39-22" href="#__codelineno-39-22"></a>    <span class="n">modules</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;models&quot;</span><span class="p">],</span>
<a id="__codelineno-39-23" name="__codelineno-39-23" href="#__codelineno-39-23"></a>    <span class="n">hooks</span><span class="o">=</span><span class="p">{</span>
<a id="__codelineno-39-24" name="__codelineno-39-24" href="#__codelineno-39-24"></a>        <span class="s2">&quot;models&quot;</span><span class="p">:</span> <span class="p">{</span>
<a id="__codelineno-39-25" name="__codelineno-39-25" href="#__codelineno-39-25"></a>            <span class="s2">&quot;startup&quot;</span><span class="p">:</span> <span class="n">db_manager</span><span class="o">.</span><span class="n">startup</span><span class="p">,</span>
<a id="__codelineno-39-26" name="__codelineno-39-26" href="#__codelineno-39-26"></a>            <span class="s2">&quot;shutdown&quot;</span><span class="p">:</span> <span class="n">db_manager</span><span class="o">.</span><span class="n">shutdown</span><span class="p">,</span>
<a id="__codelineno-39-27" name="__codelineno-39-27" href="#__codelineno-39-27"></a>        <span class="p">}</span>
<a id="__codelineno-39-28" name="__codelineno-39-28" href="#__codelineno-39-28"></a>    <span class="p">}</span>
<a id="__codelineno-39-29" name="__codelineno-39-29" href="#__codelineno-39-29"></a><span class="p">)</span>
</code></pre></div>
<hr />
<h2 id="troubleshooting">Troubleshooting</h2>
<h3 id="issue-modules-not-loading">Issue: Modules Not Loading</h3>
<p><strong>Symptoms</strong>: Components are empty, modules not found</p>
<p><strong>Solutions</strong>:
1. Check that <code>apps/</code> directory exists in <code>base_dir</code>
2. Verify each app has an <code>__init__.py</code> file
3. Ensure module files match <code>schema.modules</code> names
4. Use <code>mode="loose"</code> temporarily to identify which modules are missing
5. Enable <code>echo=True</code> for detailed loading information</p>
<h3 id="issue-import-errors">Issue: Import Errors</h3>
<p><strong>Symptoms</strong>: <code>ModuleNotFoundError</code> or <code>ImportError</code></p>
<p><strong>Solutions</strong>:
1. Verify <code>base_dir</code> points to correct directory
2. Check that apps are in <code>apps/</code> subdirectory
3. Ensure all dependencies are installed
4. Check for typos in module names</p>
<h3 id="issue-circular-dependencies">Issue: Circular Dependencies</h3>
<p><strong>Symptoms</strong>: <code>CircularDependencyError</code> during startup</p>
<p><strong>Solutions</strong>:
1. Review <code>schema.dependencies</code> for cycles
2. Restructure dependencies to be unidirectional
3. Consider splitting modules differently
4. Use lazy imports within modules if needed</p>
<h3 id="issue-hooks-not-executing">Issue: Hooks Not Executing</h3>
<p><strong>Symptoms</strong>: Startup/shutdown hooks don't run</p>
<p><strong>Solutions</strong>:
1. Verify hook names match module names in schema
2. Check hook signatures accept correct parameters
3. Ensure hooks are registered before Framework creation
4. Check for exceptions in hook functions (use logging)</p>
<h3 id="issue-components-not-found">Issue: Components Not Found</h3>
<p><strong>Symptoms</strong>: <code>get_component()</code> returns <code>None</code></p>
<p><strong>Solutions</strong>:
1. Verify component is decorated with <code>@component</code> or <code>@components.register()</code>
2. Check component type matches (e.g., "model" vs "models")
3. Ensure app containing component is in installed_apps
4. Use correct full name: <code>"app.Component"</code> not just <code>"Component"</code></p>
<hr />
<h2 id="best-practices">Best Practices</h2>
<h3 id="1-use-strict-mode-in-development">1. Use Strict Mode in Development</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-40-1" name="__codelineno-40-1" href="#__codelineno-40-1"></a><span class="c1"># Catches missing modules early</span>
<a id="__codelineno-40-2" name="__codelineno-40-2" href="#__codelineno-40-2"></a><span class="n">framework</span> <span class="o">=</span> <span class="n">Framework</span><span class="p">(</span><span class="n">base_dir</span><span class="p">,</span> <span class="n">schema</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;strict&quot;</span><span class="p">)</span>
</code></pre></div>
<h3 id="2-keep-dependencies-simple">2. Keep Dependencies Simple</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-41-1" name="__codelineno-41-1" href="#__codelineno-41-1"></a><span class="c1"># Good: Simple, clear dependencies</span>
<a id="__codelineno-41-2" name="__codelineno-41-2" href="#__codelineno-41-2"></a><span class="n">dependencies</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-41-3" name="__codelineno-41-3" href="#__codelineno-41-3"></a>    <span class="s2">&quot;views&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;models&quot;</span><span class="p">],</span>
<a id="__codelineno-41-4" name="__codelineno-41-4" href="#__codelineno-41-4"></a>    <span class="s2">&quot;services&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;models&quot;</span><span class="p">],</span>
<a id="__codelineno-41-5" name="__codelineno-41-5" href="#__codelineno-41-5"></a><span class="p">}</span>
<a id="__codelineno-41-6" name="__codelineno-41-6" href="#__codelineno-41-6"></a>
<a id="__codelineno-41-7" name="__codelineno-41-7" href="#__codelineno-41-7"></a><span class="c1"># Avoid: Complex dependency chains</span>
<a id="__codelineno-41-8" name="__codelineno-41-8" href="#__codelineno-41-8"></a><span class="n">dependencies</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-41-9" name="__codelineno-41-9" href="#__codelineno-41-9"></a>    <span class="s2">&quot;views&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;models&quot;</span><span class="p">,</span> <span class="s2">&quot;services&quot;</span><span class="p">],</span>
<a id="__codelineno-41-10" name="__codelineno-41-10" href="#__codelineno-41-10"></a>    <span class="s2">&quot;services&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;models&quot;</span><span class="p">,</span> <span class="s2">&quot;utils&quot;</span><span class="p">],</span>
<a id="__codelineno-41-11" name="__codelineno-41-11" href="#__codelineno-41-11"></a>    <span class="s2">&quot;utils&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;config&quot;</span><span class="p">],</span>
<a id="__codelineno-41-12" name="__codelineno-41-12" href="#__codelineno-41-12"></a><span class="p">}</span>
</code></pre></div>
<h3 id="3-use-meaningful-hook-functions">3. Use Meaningful Hook Functions</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-42-1" name="__codelineno-42-1" href="#__codelineno-42-1"></a><span class="c1"># Good: Clear, focused hook</span>
<a id="__codelineno-42-2" name="__codelineno-42-2" href="#__codelineno-42-2"></a><span class="k">def</span><span class="w"> </span><span class="nf">initialize_database</span><span class="p">(</span><span class="n">model_set</span><span class="p">):</span>
<a id="__codelineno-42-3" name="__codelineno-42-3" href="#__codelineno-42-3"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Create database tables for models.&quot;&quot;&quot;</span>
<a id="__codelineno-42-4" name="__codelineno-42-4" href="#__codelineno-42-4"></a>    <span class="n">create_tables</span><span class="p">(</span><span class="n">model_set</span><span class="p">)</span>
<a id="__codelineno-42-5" name="__codelineno-42-5" href="#__codelineno-42-5"></a>
<a id="__codelineno-42-6" name="__codelineno-42-6" href="#__codelineno-42-6"></a><span class="c1"># Avoid: Hook doing too much</span>
<a id="__codelineno-42-7" name="__codelineno-42-7" href="#__codelineno-42-7"></a><span class="k">def</span><span class="w"> </span><span class="nf">startup_hook</span><span class="p">(</span><span class="n">model_set</span><span class="p">):</span>
<a id="__codelineno-42-8" name="__codelineno-42-8" href="#__codelineno-42-8"></a>    <span class="n">create_tables</span><span class="p">(</span><span class="n">model_set</span><span class="p">)</span>
<a id="__codelineno-42-9" name="__codelineno-42-9" href="#__codelineno-42-9"></a>    <span class="n">warmup_cache</span><span class="p">()</span>
<a id="__codelineno-42-10" name="__codelineno-42-10" href="#__codelineno-42-10"></a>    <span class="n">send_startup_notification</span><span class="p">()</span>
<a id="__codelineno-42-11" name="__codelineno-42-11" href="#__codelineno-42-11"></a>    <span class="n">check_api_keys</span><span class="p">()</span>  <span class="c1"># Too many responsibilities</span>
</code></pre></div>
<h3 id="4-organize-configuration-properly">4. Organize Configuration Properly</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-43-1" name="__codelineno-43-1" href="#__codelineno-43-1"></a>my_project/
<a id="__codelineno-43-2" name="__codelineno-43-2" href="#__codelineno-43-2"></a> apps/              # Application modules
<a id="__codelineno-43-3" name="__codelineno-43-3" href="#__codelineno-43-3"></a> config/            # All configuration
<a id="__codelineno-43-4" name="__codelineno-43-4" href="#__codelineno-43-4"></a>    settings.py    # Python settings
<a id="__codelineno-43-5" name="__codelineno-43-5" href="#__codelineno-43-5"></a>    spoc.toml      # SPOC config
<a id="__codelineno-43-6" name="__codelineno-43-6" href="#__codelineno-43-6"></a>    .env/          # Environment files
<a id="__codelineno-43-7" name="__codelineno-43-7" href="#__codelineno-43-7"></a>        development.toml
<a id="__codelineno-43-8" name="__codelineno-43-8" href="#__codelineno-43-8"></a>        staging.toml
<a id="__codelineno-43-9" name="__codelineno-43-9" href="#__codelineno-43-9"></a>        production.toml
<a id="__codelineno-43-10" name="__codelineno-43-10" href="#__codelineno-43-10"></a> main.py            # Entry point
</code></pre></div>
<h3 id="5-leverage-component-namespace">5. Leverage Component Namespace</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-44-1" name="__codelineno-44-1" href="#__codelineno-44-1"></a><span class="c1"># Good: Use namespace for type safety</span>
<a id="__codelineno-44-2" name="__codelineno-44-2" href="#__codelineno-44-2"></a><span class="n">all_models</span> <span class="o">=</span> <span class="n">framework</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
<a id="__codelineno-44-3" name="__codelineno-44-3" href="#__codelineno-44-3"></a>
<a id="__codelineno-44-4" name="__codelineno-44-4" href="#__codelineno-44-4"></a><span class="c1"># Avoid: Using get_component for iteration</span>
<a id="__codelineno-44-5" name="__codelineno-44-5" href="#__codelineno-44-5"></a><span class="k">for</span> <span class="n">app</span> <span class="ow">in</span> <span class="n">framework</span><span class="o">.</span><span class="n">installed_apps</span><span class="p">:</span>
<a id="__codelineno-44-6" name="__codelineno-44-6" href="#__codelineno-44-6"></a>    <span class="n">model</span> <span class="o">=</span> <span class="n">framework</span><span class="o">.</span><span class="n">get_component</span><span class="p">(</span><span class="s2">&quot;model&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">app</span><span class="si">}</span><span class="s2">.SomeModel&quot;</span><span class="p">)</span>  <span class="c1"># Fragile</span>
</code></pre></div>
<hr />
<h2 id="summary">Summary</h2>
<p>The Framework is the orchestration layer that:</p>
<ol>
<li><strong>Discovers</strong> configuration from standard locations</li>
<li><strong>Registers</strong> apps and modules with dependencies</li>
<li><strong>Loads</strong> modules in the correct order</li>
<li><strong>Executes</strong> lifecycle hooks at appropriate times</li>
<li><strong>Indexes</strong> components for easy access</li>
<li><strong>Manages</strong> startup and shutdown sequences</li>
</ol>
<p>Understanding the Framework's lifecycle and configuration system enables you to build robust, maintainable SPOC applications with clear separation of concerns and proper dependency management.</p>
<p>For API-level details, see the <a href="../../api/framework/">Framework API Reference</a>.</p>
<p>For practical examples, check the <a href="../../getting-started/quick-start/">Quick Start Guide</a>.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../../getting-started/configuration/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Configuration">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Configuration
              </div>
            </div>
          </a>
        
        
          
          <a href="../app-system/" class="md-footer__link md-footer__link--next" aria-label="Next: App System">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                App System
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright  hlop3z
    </div>
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["content.code.annotate", "content.code.copy", "content.tooltips", "navigation.expand", "navigation.instant", "navigation.sections", "navigation.tabs", "navigation.top", "navigation.tracking", "navigation.footer"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
        <script src="../../termynal.js"></script>
      
    

  </body>
</html>